{% extends "base.html" %}

{% block content %}

<h2 class="text-2xl font-bold mb-4">IPs Bloqueadas</h2>

{% if messages %}
{% for message in messages %}
    <div class="bg-blue-700 p-2 rounded mb-4">
    {{ message }}
    </div>
{% endfor %}
{% endif %}


<form method="POST" class="mb-6">
    {% csrf_token %}
    <input type="text" name="ip_add" placeholder="Nueva IP a bloquear" class="w-full p-2 mb-2 rounded bg-gray-900 border border-gray-700">
    <button type="submit" name="action" value="add" class="bg-red-600 px-4 py-2 rounded hover:bg-red-700 mb-4">Bloquear IP</button>

    <input type="text" name="ip_delete" placeholder="IP a desbloquear" class="w-full p-2 mb-2 rounded bg-gray-900 border border-gray-700">
    <button type="submit" name="action" value="delete" class="bg-yellow-600 px-4 py-2 rounded hover:bg-yellow-700">Desbloquear IP</button>
</form>

<!-- Lista de IPs actuales -->

<div class="mt-8">
    <h3 class="text-lg font-semibold mb-2 text-green-400">IPs Permitidas:</h3>
    <ul class="list-disc list-inside mb-6">
        {% for ip in allow_ips %}
            <li>{{ ip }}</li>
        {% empty %}
            <li>No hay IPs permitidas.</li>
        {% endfor %}
    </ul>

    <h3 class="text-lg font-semibold mb-2 text-red-400">IPs Bloqueadas:</h3>
    <ul class="list-disc list-inside">
        {% for ip in deny_ips %}
            <li>{{ ip }}</li>
        {% empty %}
            <li>No hay IPs bloqueadas.</li>
        {% endfor %}
    </ul>
</div>

{% endblock %}
